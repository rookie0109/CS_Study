轨迹跟踪时增加前馈，已知规划起点的时间戳，和当前时间戳，找到规划出的轨迹内与当前时间戳较近的点进行插值得到当前应该得到的速度。
faster 的轨迹跟踪器不能处理倒车的情况

梯度是雅可比矩阵的特殊形式，向量函数的导数m维->n维时，n = 1的情况。

基于搜索的路径规划和基于采样的路径规划是两类常用的路径规划算法，它们在应用场景、算法复杂度、适用环境等方面有明显的区别。以下是对这两种方法的优缺点和使用场景的详细介绍：

### 基于搜索的路径规划

基于搜索的路径规划算法通过系统地探索搜索空间来找到从起点到目标点的路径。这类算法包括经典的Dijkstra算法、A*算法等。

**优点**：
1. **确定性**：搜索算法通常是确定性的，能保证找到最优路径（如果存在）。
2. **可保证性**：像A*算法在满足一定条件下能够保证找到最优解。
3. **适用性**：适用于静态环境和已知地图的路径规划，特别是网格图或图结构。
4. **启发性**：启发式搜索算法（如A*）可以利用启发函数有效地引导搜索方向，提高搜索效率。

**缺点**：
1. **计算复杂度**：在高维空间或大规模地图中，搜索算法的计算复杂度较高，可能导致计算时间长。
2. **灵活性差**：在处理动态环境或不确定性较高的环境时，性能可能不理想。
3. **依赖地图**：需要完整的环境信息，难以处理部分已知或未知环境。

**使用场景**：
- **静态和已知环境**：如二维或三维的静态地图，城市街道、室内导航等。
- **最优路径需求高**：需要保证路径的最优性或次优性，例如机器人路径规划、导航系统等。

### 基于采样的路径规划

基于采样的路径规划算法通过随机采样生成状态空间中的节点，并连接这些节点来形成路径。这类算法包括快速探索随机树（RRT）、概率路图（PRM）等。

**优点**：
1. **高维适应性**：适用于高维空间和复杂环境中的路径规划。
2. **处理动态性**：可以较好地处理动态环境和部分已知或未知的环境。
3. **渐进最优性**：一些改进的采样算法（如RRT*）具有渐进最优性，可以随着采样点的增加逐渐接近最优解。
4. **灵活性**：能够处理复杂的约束条件和非线性系统。

**缺点**：
1. **次优解**：初始阶段可能只能找到次优解，需要大量采样才能接近最优解。
2. **计算开销**：采样算法可能需要大量计算资源，特别是在复杂或高维环境中。
3. **不确定性**：由于是随机采样，生成的路径可能具有不确定性和不稳定性。

**使用场景**：
- **高维和复杂环境**：如机器人操作、无人机导航、自动驾驶等需要在高维空间中进行路径规划的场景。
- **动态和部分未知环境**：如未知地形探测、动态避障等需要应对环境变化的应用。
- **多约束条件**：如需要考虑动力学约束、环境复杂性等的场景。

### 比较总结

| 特点                        | 基于搜索的路径规划            | 基于采样的路径规划           |
|-----------------------------|-------------------------------|-----------------------------|
| **确定性**                  | 高                            | 低（随机性）                |
| **最优性**                  | 可保证（如A*）                 | 渐进最优（如RRT*）          |
| **计算复杂度**              | 高（大规模/高维时）            | 视采样数量而定              |
| **适用环境**                | 静态、已知环境                | 动态、部分已知/未知环境    |
| **高维适应性**              | 较差                          | 强                          |
| **灵活性**                  | 较差                          | 强                          |
| **依赖环境信息**            | 需要完整地图                  | 部分已知或未知地图          |
| **适用场景**                | 城市导航、室内导航            | 机器人操作、无人机导航      |

### 选择方法的建议

- 如果环境是静态且已知的，并且需要确保路径最优性，基于搜索的方法（如A*）是合适的选择。
- 如果环境是高维、复杂或动态的，且需要处理部分已知或未知的信息，基于采样的方法（如RRT、PRM）更为适合。
- 如果需要兼顾最优性和计算效率，可以考虑使用改进的采样算法（如RRT*），或者将两种方法结合起来，例如在全局规划中使用搜索算法，在局部避障中使用采样算法。
